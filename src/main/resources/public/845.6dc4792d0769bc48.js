(self.webpackChunkWFMGIS=self.webpackChunkWFMGIS||[]).push([[845],{2845:(x,M,d)=>{"use strict";d.r(M),d.d(M,{AuditModule:()=>st});var A=d(9808),T=d(3778),S=d(9441),t=d(2096),N=d(520);let C=(()=>{class o{constructor(e){this.http=e,this.URL=apiURL}getAllSysAudit(){return this.http.get(this.URL+"/data/getAllAudit")}searchAudit(e,n,i){return this.http.post(this.URL+`/data/Search$Audit?page=${n}&size=${i}`,e)}}return o.\u0275fac=function(e){return new(e||o)(t.LFG(N.eN))},o.\u0275prov=t.Yz7({token:o,factory:o.\u0275fac,providedIn:"root"}),o})();var _=d(7556),y=d(9783),p=d(4182),s=d(8410),r=d(7773),f=d(3787),u=d(5652),m=d(4036),U=d(845);function b(o,a){1&o&&(t.TgZ(0,"div",19),t._uU(1," ACTION_DATE is required."),t.qZA())}function O(o,a){if(1&o&&(t.TgZ(0,"div"),t.YNc(1,b,2,0,"div",18),t.qZA()),2&o){const e=t.oxw();t.xp6(1),t.Q6J("ngIf",null==e.myForm.controls.ACTION_DATE||null==e.myForm.controls.ACTION_DATE.errors?null:e.myForm.controls.ACTION_DATE.errors.required)}}function w(o,a){1&o&&(t.TgZ(0,"div",19),t._uU(1," USERNAME is required. "),t.qZA())}function R(o,a){if(1&o&&(t.TgZ(0,"div"),t.YNc(1,w,2,0,"div",18),t.qZA()),2&o){const e=t.oxw();t.xp6(1),t.Q6J("ngIf",null==e.myForm.controls.USERNAME||null==e.myForm.controls.USERNAME.errors?null:e.myForm.controls.USERNAME.errors.required)}}function E(o,a){if(1&o&&(t.TgZ(0,"div"),t._uU(1),t.qZA()),2&o){const e=t.oxw().$implicit;t.xp6(1),t.hij(" ",e.value," ")}}function J(o,a){1&o&&(t.TgZ(0,"div",21),t._UZ(1,"i",22),t._uU(2," Loading "),t.qZA())}function Y(o,a){if(1&o&&(t.YNc(0,E,2,1,"div",9),t.YNc(1,J,3,0,"div",20)),2&o){const e=a.$implicit;t.Q6J("ngIf","-1"!=e.valuear),t.xp6(1),t.Q6J("ngIf","-1"===e.valuear)}}const I=function(o){return{"border-danger":o}},G=function(){return{"margin-left":".5em"}};let B=(()=>{class o{constructor(e,n,i,l){this.dataApi=e,this.messageService=n,this.datePipe=i,this.lookupApi=l,this.getResponse=new t.vpe,this.fromDate="",this.ACTION_DATE="",this.EMP_ROLE_ID={valuear:"",value:""},this.ORG_ROLE={valuear:"",value:""},this.OrgRole=[{valuear:"-1",value:"-1"}],this.USERNAME="",this.currentDate=new Date,this.onChangeORGROLE=c=>{if(this.Workers=this.WorkersNoFilter,null!==c&&1==this.doneWork){let g=this.WorkersNoFilter.filter(h=>h.dependcode==c.value);this.Workers=g}else this.Workers=this.WorkersNoFilter}}ngOnChanges(e){}ngAfterViewInit(){}ngOnInit(){this.getOUByOrgRole(),this.myForm=new p.cw({ACTION_DATE:new p.NI(""),ORG_ROLE:new p.NI(""),USERNAME:new p.NI("")}),this.OrgRole=[{valuear:"-1",value:"-1"}],this.myForm.controls.ORG_ROLE.valueChanges.subscribe(e=>{"-1"==(null==e?void 0:e.value)&&this.myForm.controls.ORG_ROLE.patchValue(void 0)})}getOUByOrgRole(){this.lookupApi.getOUByOrgRole().subscribe(e=>{this.OrgRole=200==e.statusCode?e.body:[]})}getWorkersByOrgRole(){this.lookupApi.getWorkersByOrgRole().subscribe(e=>{200==e.statusCode?(this.Workers=e.body,this.WorkersNoFilter=e.body,this.doneWork=!0):this.Workers=[]},e=>{var n,i;this.Workers=[],(null===(n=null==e?void 0:e.error)||void 0===n?void 0:n.clientMessage)?this.messageService.add({severity:"error",summary:"Error",detail:`${null===(i=null==e?void 0:e.error)||void 0===i?void 0:i.clientMessage}`}):this.messageService.add({severity:"error",summary:"Error",detail:"Unknown Error"})})}onSubmit(){var e,n,i,l,c={ACTION_DATE:this.datePipe.transform(null===(e=this.myForm.value)||void 0===e?void 0:e.ACTION_DATE,"dd-MMM-yy"),USERNAME:null===(n=this.myForm.value)||void 0===n?void 0:n.USERNAME,ORG_ROLE:null===(l=null===(i=this.myForm.value)||void 0===i?void 0:i.ORG_ROLE)||void 0===l?void 0:l.value};null==c.ACTION_DATE&&(c.ACTION_DATE=void 0),this.getResponse.emit(c)}reset(){this.myForm.reset(),this.getResponse.emit(-1)}clearSelection(e){this.myForm.controls.ORG_ROLE.patchValue(void 0)}valid(){let e=0,n=this.myForm.controls;for(let i in n)null==n[i].value&&e++,""==String(n[i].value).trim()&&n[i].patchValue(void 0);return 3==e}}return o.\u0275fac=function(e){return new(e||o)(t.Y36(C),t.Y36(y.ez),t.Y36(A.uU),t.Y36(s.K))},o.\u0275cmp=t.Xpm({type:o,selectors:[["app-searchaudit"]],outputs:{getResponse:"getResponse"},features:[t._Bn([A.uU]),t.TTD],decls:27,vars:27,consts:[["position","top-left"],[3,"formGroup","ngSubmit"],[1,"p-1"],["header","Search",3,"transitionOptions","selected"],[1,"formControID"],[1,"row","search"],[1,"col-2"],["for","ACTION_DATE"],["formControlName","ACTION_DATE","dateFormat","mm/dd/yy","id","ACTION_DATE","inputId","ACTION_DATE","name","ACTION_DATE",3,"showButtonBar","showIcon","ngModel","ngClass","ngModelChange"],[4,"ngIf"],["for","USERNAME"],["type","text","formControlName","USERNAME","id","USERNAME",1,"form-control",3,"ngModel","ngClass","ngModelChange"],["for","ORG_ROLE"],["inputId","ORG_ROLE","optionLabel","value","formControlName","ORG_ROLE","filterBy","value","placeholder","Select ORG ROLE",3,"options","virtualScroll","itemSize","filter","showClear","ngClass","onClear"],["pTemplate","ORG_ROLE"],[1,"actions"],["label","Search","type","submit","icon","pi pi-search","styleClass","p-button-success p-search btnNew",3,"disabled"],["label","Reset","type","button","icon","pi pi-refresh","styleClass","p-button-secondary btnNew ","data-dismiss","modal",3,"click"],["class","form-text text-danger mt-1",4,"ngIf"],[1,"form-text","text-danger","mt-1"],["style","margin-left: 40%;",4,"ngIf"],[2,"margin-left","40%"],[1,"pi","pi-spin","pi-spinner","text-center"]],template:function(e,n){if(1&e&&(t._UZ(0,"p-toast",0),t.TgZ(1,"form",1),t.NdJ("ngSubmit",function(){return n.onSubmit()}),t.TgZ(2,"div",2)(3,"p-accordion")(4,"p-accordionTab",3)(5,"div",4)(6,"div",5)(7,"div",6)(8,"div")(9,"label",7),t._uU(10,"ACTION DATE"),t.qZA(),t.TgZ(11,"div")(12,"p-calendar",8),t.NdJ("ngModelChange",function(l){return n.ACTION_DATE=l}),t.qZA(),t.YNc(13,O,2,1,"div",9),t.qZA()()(),t.TgZ(14,"div",6)(15,"label",10),t._uU(16,"User Name "),t.qZA(),t.TgZ(17,"input",11),t.NdJ("ngModelChange",function(l){return n.USERNAME=l}),t.qZA(),t.YNc(18,R,2,1,"div",9),t.qZA(),t.TgZ(19,"div",6)(20,"label",12),t._uU(21,"ORG ROLE"),t.qZA(),t.TgZ(22,"p-dropdown",13),t.NdJ("onClear",function(l){return n.clearSelection(l)}),t.YNc(23,Y,2,2,"ng-template",14),t.qZA()(),t.TgZ(24,"div",15),t._UZ(25,"p-button",16),t.TgZ(26,"p-button",17),t.NdJ("click",function(){return n.reset()}),t.qZA()()()()()()()()),2&e){let i,l,c,g,h;t.xp6(1),t.Q6J("formGroup",n.myForm),t.xp6(3),t.Q6J("transitionOptions","100ms")("selected",!0),t.xp6(8),t.Q6J("showButtonBar",!0)("showIcon",!0)("ngModel",n.ACTION_DATE)("ngClass",t.VKq(20,I,(null==(i=n.myForm.get("ACTION_DATE"))?null:i.invalid)&&(null==(i=n.myForm.get("fromDate"))?null:i.errors)&&((null==(i=n.myForm.get("ACTION_DATE"))?null:i.dirty)||(null==(i=n.myForm.get("ACTION_DATE"))?null:i.touched)))),t.xp6(1),t.Q6J("ngIf",(null==(l=n.myForm.get("ACTION_DATE"))?null:l.invalid)&&(null==(l=n.myForm.get("ACTION_DATE"))?null:l.errors)&&((null==(l=n.myForm.get("ACTION_DATE"))?null:l.dirty)||(null==(l=n.myForm.get("ACTION_DATE"))?null:l.touched))),t.xp6(4),t.Q6J("ngModel",n.USERNAME)("ngClass",t.VKq(22,I,(null==(c=n.myForm.get("USERNAME"))?null:c.invalid)&&(null==(c=n.myForm.get("USERNAME"))?null:c.errors)&&((null==(c=n.myForm.get("USERNAME"))?null:c.dirty)||(null==(c=n.myForm.get("USERNAME"))?null:c.touched)))),t.xp6(1),t.Q6J("ngIf",(null==(g=n.myForm.get("USERNAME"))?null:g.invalid)&&(null==(g=n.myForm.get("USERNAME"))?null:g.errors)&&((null==(g=n.myForm.get("USERNAME"))?null:g.dirty)||(null==(g=n.myForm.get("USERNAME"))?null:g.touched))),t.xp6(4),t.Q6J("options",n.OrgRole)("virtualScroll",!0)("itemSize",20)("filter",!0)("showClear",!0)("ngClass",t.VKq(24,I,(null==(h=n.myForm.get("ORG_ROLE"))?null:h.invalid)&&(null==(h=n.myForm.get("ORG_ROLE"))?null:h.errors)&&((null==(h=n.myForm.get("ORG_ROLE"))?null:h.dirty)||(null==(h=n.myForm.get("ORG_ROLE"))?null:h.touched)))),t.xp6(3),t.Q6J("disabled",n.valid()),t.xp6(1),t.Akn(t.DdM(26,G))}},directives:[r.FN,p._Y,p.JL,p.sg,f.UQ,f.US,u.f,p.JJ,p.u,A.mk,A.O5,p.Fj,m.Lt,y.jx,U.zx],styles:[".search[_ngcontent-%COMP%]   .col-3[_ngcontent-%COMP%], .search[_ngcontent-%COMP%]   .col-2[_ngcontent-%COMP%]{margin-bottom:5px}.search[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{font-weight:700;color:#64748b;margin-left:2px;font-size:12px}.actions[_ngcontent-%COMP%]{float:right;margin-right:7px;margin-top:30px}.actions[_ngcontent-%COMP%]   .pi[_ngcontent-%COMP%]{margin-left:2px}.hiddenInput[_ngcontent-%COMP%]{height:0px!important;visibility:hidden;padding:0;float:left;margin-top:-10px!important}.formControID[_ngcontent-%COMP%]   .p-inputtext[_ngcontent-%COMP%]{width:-webkit-fill-available}"]}),o})();var F=d(6697),k=d(6526),j=d(1424),Q=d(4132);const W=["paginator"],q=["dt1"],L=function(){return{standalone:!0}};function z(o,a){if(1&o){const e=t.EpF();t.TgZ(0,"div",9)(1,"button",10),t.NdJ("click",function(){return t.CHM(e),t.oxw().exportExcel()}),t._UZ(2,"i",11),t._uU(3," Export "),t.qZA()(),t.TgZ(4,"div",12)(5,"p-multiSelect",13),t.NdJ("ngModelChange",function(i){return t.CHM(e),t.oxw().selectedColumns=i}),t.qZA(),t.TgZ(6,"span",14),t._UZ(7,"i",15),t.TgZ(8,"input",16,17),t.NdJ("ngModelChange",function(i){return t.CHM(e),t.oxw().h=i})("input",function(){t.CHM(e);const i=t.MAs(9);return t.oxw(),t.MAs(4).filterGlobal(i.value,"contains")}),t.qZA()()()}if(2&o){const e=t.oxw();t.xp6(5),t.Q6J("options",e.cols)("ngModel",e.selectedColumns)("ngModelOptions",t.DdM(5,L)),t.xp6(3),t.Q6J("ngModelOptions",t.DdM(6,L))("ngModel",e.h)}}function H(o,a){if(1&o&&(t.TgZ(0,"th",20)(1,"div",21),t._uU(2),t._UZ(3,"p-sortIcon",22),t.qZA()()),2&o){const e=a.$implicit;t.s9C("pSortableColumn",e.field),t.xp6(2),t.hij(" ",e.header," "),t.xp6(1),t.s9C("field",e.field)}}function K(o,a){if(1&o&&(t.TgZ(0,"th"),t._UZ(1,"p-columnFilter",23),t.qZA()),2&o){const e=a.$implicit;t.xp6(1),t.s9C("field",e.field)}}function V(o,a){if(1&o&&(t.TgZ(0,"tr"),t.YNc(1,H,4,3,"th",18),t.qZA(),t.TgZ(2,"tr"),t.YNc(3,K,2,1,"th",19),t.qZA()),2&o){const e=a.$implicit;t.xp6(1),t.Q6J("ngForOf",e),t.xp6(2),t.Q6J("ngForOf",e)}}function X(o,a){if(1&o&&(t.TgZ(0,"td"),t._uU(1),t.qZA()),2&o){const e=a.$implicit,n=t.oxw().$implicit;t.xp6(1),t.hij(" ",n[e.field]," ")}}function tt(o,a){if(1&o&&(t.TgZ(0,"tr"),t.YNc(1,X,2,1,"td",19),t.qZA()),2&o){const e=a.columns;t.xp6(1),t.Q6J("ngForOf",e)}}function et(o,a){1&o&&(t.TgZ(0,"tr")(1,"td",24)(2,"h6",25),t._uU(3,"No Data Found"),t.qZA()()())}const P=function(){return[5,10,25,50,100,500]};function nt(o,a){if(1&o){const e=t.EpF();t.TgZ(0,"span",26),t._uU(1),t.qZA(),t.TgZ(2,"p-paginator",27,28),t.NdJ("onPageChange",function(i){return t.CHM(e),t.oxw().paginate(i)}),t.qZA()}if(2&o){const e=t.oxw();t.xp6(1),t.lnq(" Showing ",e.first," to ",e.last," of ",e.totalRecords," entries "),t.xp6(1),t.Q6J("first",e.first)("rows",e.totalRow)("totalRecords",e.totalRecords)("rowsPerPageOptions",t.DdM(7,P))}}const ot=function(){return["username","action_NAME","action_DATE","action_DESCRIPTION","org_ROLE"]},it=[{path:"",component:(()=>{class o{constructor(e,n,i){this.dataApi=e,this.auth=n,this.messageService=i,this.first=0,this.last=0,this.totalRecords=0,this.totalRow=0,this.getdatabysearch=!1}ngOnInit(){this.cols=[{field:"username",header:"User Name",display:1},{field:"action_NAME",header:"Action Name",display:1},{field:"action_DATE",header:"Action Date",display:1},{field:"action_DESCRIPTION",header:"Action Description",display:1},{field:"org_ROLE",header:"Org Role",display:1}],this.selectedcols=this.cols.filter(e=>1==e.display),this._selectedColumns=this.selectedcols}get selectedColumns(){return this._selectedColumns}set selectedColumns(e){this.selectedcols=e,this._selectedColumns=this.cols.filter(n=>e.includes(n)),this._selectedColumns=this.selectedcols}resetOnlyTable(){$("#inputID").val(""),this.myTable.reset()}getAllaudit(){this.loading=!0,this.sub=this.dataApi.getAllSysAudit().subscribe(e=>{this.AllSysAudit=e.body,this.loading=!1},e=>{var n,i;(null===(n=null==e?void 0:e.error)||void 0===n?void 0:n.clientMessage)?this.messageService.add({severity:"error",summary:"Error",detail:`${null===(i=null==e?void 0:e.error)||void 0===i?void 0:i.clientMessage}`}):this.messageService.add({severity:"error",summary:"Error",detail:"Unknown Error"}),console.error(e),this.AllSysAudit=[],this.loading=!1})}ngOnDestroy(){var e;null===(e=this.sub)||void 0===e||e.unsubscribe()}getsearchAudit(e,n,i,l,c){var g,h;if(0==(null===(g=this.sub)||void 0===g?void 0:g.closed)&&(null===(h=this.sub)||void 0===h||h.unsubscribe()),-1==c)return this.resetOnlyTable(),this.AllSysAudit=[],this.first=0,this.last=0,this.totalRecords=0,void(this.totalRow=0);this.loading=!0,this.dataApi.searchAudit(c,e,n).subscribe(v=>{this.AllSysAudit=v.body,this.totalRecords=parseInt(v.developerMessage),this.first=i,this.last=l,this.loading=!1},v=>{var Z,D;console.error(v),this.AllSysAudit=[],this.loading=!1,(null===(Z=null==v?void 0:v.error)||void 0===Z?void 0:Z.clientMessage)?this.messageService.add({severity:"error",summary:"Error",detail:`${null===(D=null==v?void 0:v.error)||void 0===D?void 0:D.clientMessage}`}):this.messageService.add({severity:"error",summary:"Error",detail:"Unknown Error"})})}exportExcel(){d.e(574).then(d.bind(d,574)).then(e=>{this.dataID=document.getElementById("dt1");const i={Sheets:{data:e.utils.table_to_sheet(this.dataID)},SheetNames:["data"]},l=e.write(i,{bookType:"xlsx",type:"array"});this.saveAsExcelFile(l,"SysAudit")})}saveAsExcelFile(e,n){const c=new Blob([e],{type:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet;charset=UTF-8"});S.saveAs(c,n+"_"+(0,A.p6)(new Date,"dd-MMM-YYYY hh:mm","en-US")+".xlsx")}getDoneSearch(e){this.loading=!0,this.objectbySearch=e,this.loading=!1,this.getdatabysearch=!0,this.totalRecords=50,this.totalRow=50,this.getsearchAudit(0,this.totalRow,1,this.totalRecords,this.objectbySearch)}paginate(e){this.first=e.first+1,this.last=(e.page+1)*e.rows,e.page==e.pageCount-1&&(this.last=this.totalRecords),0==this.getdatabysearch&&this.getsearchAudit(e.page,e.rows,this.first,this.last,{}),1==this.getdatabysearch&&this.getsearchAudit(e.page,e.rows,this.first,this.last,this.objectbySearch)}}return o.\u0275fac=function(e){return new(e||o)(t.Y36(C),t.Y36(_.e),t.Y36(y.ez))},o.\u0275cmp=t.Xpm({type:o,selectors:[["app-allaudit"]],viewQuery:function(e,n){if(1&e&&(t.Gf(W,7),t.Gf(q,5)),2&e){let i;t.iGM(i=t.CRH())&&(n.paginator=i.first),t.iGM(i=t.CRH())&&(n.myTable=i.first)}},inputs:{selectedColumns:"selectedColumns"},decls:10,vars:13,consts:[[3,"getResponse"],[2,"margin","5px"],["id","dt1","sortMode","multiple","scrollHeight","450px","styleClass","p-datatable-sm","styleClass","p-datatable-sm p-datatable-gridlines","selectionMode","single","currentPageReportTemplate","Showing {first} to {last} of {totalRecords} entries","responsiveLayout","scroll","selectionMode","multiple","dataKey","account_NO",3,"value","columns","rows","showCurrentPageReport","scrollable","rowsPerPageOptions","loading","selection","paginator","globalFilterFields","metaKeySelection","selectionChange"],["dt1",""],["pTemplate","caption"],["pTemplate","header"],["pTemplate","body"],["pTemplate","emptymessage"],["pTemplate","summary"],[1,"flex",2,"float","right","margin-top","-5px","margin-left","8px"],["type","button","title","Export Excel",1,"btn","btn-success","btnNew",3,"click"],[1,"pi","pi-file-excel"],[1,"table-header",2,"height","25px"],["optionLabel","header","selectedItemsLabel","{0} columns selected","placeholder","Choose Columns",1,"multicol",3,"options","ngModel","ngModelOptions","ngModelChange"],[1,"p-input-icon-left","searchtable"],[1,"pi","pi-search"],["pInputText","","type","text","id","inputID","ngModel","","placeholder","Search keyword",3,"ngModelOptions","ngModel","ngModelChange","input"],["inVal","ngModel"],[3,"pSortableColumn",4,"ngFor","ngForOf"],[4,"ngFor","ngForOf"],[3,"pSortableColumn"],[1,"p-d-flex","p-jc-between","p-ai-center"],[3,"field"],["type","text",3,"field"],["colspan","9"],[1,"emptymessage"],[1,"paginatorShow"],["id","manual-paginator",3,"first","rows","totalRecords","rowsPerPageOptions","onPageChange"],["paginator",""]],template:function(e,n){1&e&&(t.TgZ(0,"span")(1,"app-searchaudit",0),t.NdJ("getResponse",function(l){return n.getDoneSearch(l)}),t.qZA(),t.TgZ(2,"div",1)(3,"p-table",2,3),t.NdJ("selectionChange",function(l){return n.selectedProcess=l}),t.YNc(5,z,10,7,"ng-template",4),t.YNc(6,V,4,2,"ng-template",5),t.YNc(7,tt,2,1,"ng-template",6),t.YNc(8,et,4,0,"ng-template",7),t.YNc(9,nt,4,8,"ng-template",8),t.qZA()()()),2&e&&(t.xp6(3),t.Q6J("value",n.AllSysAudit)("columns",n.selectedColumns)("rows",n.totalRow)("showCurrentPageReport",!0)("scrollable",!1)("rowsPerPageOptions",t.DdM(11,P))("loading",n.loading)("selection",n.selectedProcess)("paginator",!1)("globalFilterFields",t.DdM(12,ot))("metaKeySelection",!0))},directives:[B,F.iA,y.jx,k.NU,p.JJ,p.On,p.Fj,j.o,A.sg,F.lQ,F.fz,F.xl,Q.D],styles:[".searchtable[_ngcontent-%COMP%]{float:right;margin-top:-4px}.multicol[_ngcontent-%COMP%]{margin-top:-4px}.paginatorShow[_ngcontent-%COMP%]{font-size:14px;font-weight:400;background:none;text-align:center}"]}),o})()}];let lt=(()=>{class o{}return o.\u0275fac=function(e){return new(e||o)},o.\u0275mod=t.oAB({type:o}),o.\u0275inj=t.cJS({imports:[[T.Bz.forChild(it)],T.Bz]}),o})();var at=d(3218);let st=(()=>{class o{}return o.\u0275fac=function(e){return new(e||o)},o.\u0275mod=t.oAB({type:o}),o.\u0275inj=t.cJS({imports:[[A.ez,lt,at.m]]}),o})()},9441:function(x,M){var T;void 0!==(T=function(){"use strict";function t(s,r,f){var u=new XMLHttpRequest;u.open("GET",s),u.responseType="blob",u.onload=function(){p(u.response,r,f)},u.onerror=function(){console.error("could not download file")},u.send()}function N(s){var r=new XMLHttpRequest;r.open("HEAD",s,!1);try{r.send()}catch(f){}return 200<=r.status&&299>=r.status}function C(s){try{s.dispatchEvent(new MouseEvent("click"))}catch(f){var r=document.createEvent("MouseEvents");r.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),s.dispatchEvent(r)}}var _="object"==typeof window&&window.window===window?window:"object"==typeof self&&self.self===self?self:"object"==typeof global&&global.global===global?global:void 0,y=_.navigator&&/Macintosh/.test(navigator.userAgent)&&/AppleWebKit/.test(navigator.userAgent)&&!/Safari/.test(navigator.userAgent),p=_.saveAs||("object"!=typeof window||window!==_?function(){}:"download"in HTMLAnchorElement.prototype&&!y?function(s,r,f){var u=_.URL||_.webkitURL,m=document.createElement("a");m.download=r=r||s.name||"download",m.rel="noopener","string"==typeof s?(m.href=s,m.origin===location.origin?C(m):N(m.href)?t(s,r,f):C(m,m.target="_blank")):(m.href=u.createObjectURL(s),setTimeout(function(){u.revokeObjectURL(m.href)},4e4),setTimeout(function(){C(m)},0))}:"msSaveOrOpenBlob"in navigator?function(s,r,f){if(r=r||s.name||"download","string"!=typeof s)navigator.msSaveOrOpenBlob(function S(s,r){return void 0===r?r={autoBom:!1}:"object"!=typeof r&&(console.warn("Deprecated: Expected third argument to be a object"),r={autoBom:!r}),r.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(s.type)?new Blob(["\ufeff",s],{type:s.type}):s}(s,f),r);else if(N(s))t(s,r,f);else{var u=document.createElement("a");u.href=s,u.target="_blank",setTimeout(function(){C(u)})}}:function(s,r,f,u){if((u=u||open("","_blank"))&&(u.document.title=u.document.body.innerText="downloading..."),"string"==typeof s)return t(s,r,f);var m="application/octet-stream"===s.type,U=/constructor/i.test(_.HTMLElement)||_.safari,b=/CriOS\/[\d]+/.test(navigator.userAgent);if((b||m&&U||y)&&"undefined"!=typeof FileReader){var O=new FileReader;O.onloadend=function(){var E=O.result;E=b?E:E.replace(/^data:[^;]*;/,"data:attachment/file;"),u?u.location.href=E:location=E,u=null},O.readAsDataURL(s)}else{var w=_.URL||_.webkitURL,R=w.createObjectURL(s);u?u.location=R:location.href=R,u=null,setTimeout(function(){w.revokeObjectURL(R)},4e4)}});_.saveAs=p.saveAs=p,x.exports=p}.apply(M,[]))&&(x.exports=T)}}]);